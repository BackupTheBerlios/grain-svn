
　Member manager a01 - A Grain Sample Code

　これは、Grainの特徴的な機能を確認するためのサンプルWebアプリケーションです。
　Grainの機能拡張に伴ってこのサンプルも拡充して行く予定です。

　------------------------------------------------------------------------------
　ビルド〜動作確認まで
　------------------------------------------------------------------------------

　0.動作環境

　　本サンプルの動作にはサーブレットコンテナが必要です。動作確認は、Jakarta
　　Tomcat 5.0.28 で行っています。
　　また、携帯電話向けの XForms ブラウザである、Grain Sprout の動作には、
　　Doja3.5プロファイル以降に準拠した携帯端末が必要です。


　1.local.build.properties などの作成
　　　
　　リリースパッケージを解凍したら、まず、local.build.properties.sample のファ
　　イル名を変更して、local.build.properties にします。

　　また、webapp ディレクトリ配下の index.html.sample についても index.htmlに
　　変更します。


　2.必要なライブラリの準備と local.build.propertis などの編集
	　
	local.build.propertiesには、Member manager (以下MMと略す）のビルドに必要な
　　ライブラリが記載されていますので、これらのライブラリをダウンロードして、
　　適当なディレクトリ（lib以下など）に配置したら、これらのライブラリの相対パス
　　を local.build.properties に記述してください。

　　また、サーバの URL も適切に設定してください。

  　index.html の object タグの data 属性についても適切な URL を設定する必要が
  　あります。
  
  
  3.antでのビルド
  
  　antは1.6.2以降を推奨します。適切なコンソールを開き、build.xml が配置されて
  　いるディレクトリに移動し、ant を実行します。主なターゲットは以下の通りです。
  
  　war : コンパイルを実行した後 build ディレクトリに war ファイルを作成します。
  　deploy : local.build.properties の server.url および catalina.user, 
　　　　　　　catalina.password を適切に設定することにより作成した war をサーブ
　　　　　　　レットコンテナに自動配備します。
　　

  4.Webアプリケーションの配備
  
  　Dojaのエミュレーターから利用する場合は、インターネットに公開されていない
  　サーバでも動作確認できますが、実機から確認したい場合にはインターネットに公
  　開されたサーバが必要になります。
  
  　前項で作成された war ファイルをサーブレットコンテナに手作業で配備しても
  　構いませんし、deployターゲットで配備しても構いません。
  
  
  5.携帯電話への Grain Sprout のダウンロード
　
　　携帯電話のWebブラウザから、index.html にアクセスし、「アプリ起動」リンクを
　　ポイントして下さい。いくつかの確認ダイアログに答えると、アプリをインストー
　　ルすることができます。


　6.Grain Sprout から Web アプリケーションのアクセス

　　Grain Sprout を起動すると、最初はフォームの読み込みに失敗します。デフォルト
　　フォームの URL を設定するとこのエラーは出なくなります。
　　設定はソフトキーの [MENU] から、「基本設定…」を選択します。ラジオボタンは
　　下の「HTTP経由で接続」を選択し、続いて URL を入力します。

　　サンプルでは、addMember.xml がデフォルトフォームとなるように URL を設定し
　　て下さい。

　　OKボタンを選択し、戻ったメニュー画面で「デフォルトフォームを表示」を選択
　　すると、登録画面が表示されます。


　------------------------------------------------------------------------------
　サンプルアプリケーションについて
　------------------------------------------------------------------------------

　　フォームに個人情報を入力し、それを登録するというだけの単純なアプリケーション
　　です。しかし、この中でもいくつかの Grain Sprout の特徴を見ることができます。

　　【郵便番号から住所の検索】

　　　Webブラウザでは、郵便番号の送信と検索された住所データの受け取りだけでも
　　　画面全体を読み直す必要があります。Sprout では、XForms の Submission を
　　　使うことで、内部データだけを送受信して、フォーム全体を読む見直すという
　　　無駄を避ける事ができます。


　　【XMLデータの利用よるサーバ側の画面遷移処理の工数削減】
　　
　　　XMLデータの送受信がベースになるため、画面遷移を最小限にすることができる。
　　　これにより、Webアプリケーション開発で一番面倒な処理である画面遷移の工数
　　　を最小限にする事ができる。


　　【スタイルの指定による表現力】
　　　　
　　　現在は各要素の style 属性に指定するという形だが、表示を柔軟にカスタマイズ
　　　し、表現力の高い UI を作成することができる。


　　【イベントドリブンの高い拡張性】
　　　　
　　　各アクションはイベントドリブンであるため、ユーザにとって適切な表現にカスタ
　　　マイズしやすい形となっている。
　　　職業コードからのマスタのリアルタイムな参照などはその一例である。
　　

　------------------------------------------------------------------------------
　著作権
　------------------------------------------------------------------------------

	本サンプル に関する全ての著作権は、原著作者である株式会社ハウインター
	ナショナルが所有します。本サンプル は、GNU Lesser General Public License 
	(LGPL) に準ずるフリーソフトウェアです。個人的に使用する場合は、改変・複製に
	制限はありません。配布する場合は LGPL に従って下さい。


　------------------------------------------------------------------------------
　無保証
　------------------------------------------------------------------------------

　　本サンプルは無保証です。本サンプルおよび Grain 関連プロダクトを使って生じた
　　いかなる損害に対しても、原著作者は一切責任を負いません。詳しくは LGPL の各
　　条項を参照して下さい。


　最終更新日：2005/08/26
　更新者：Go Takahshi