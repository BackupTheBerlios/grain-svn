
　Member manager a01 - A Grain Sample Code

　これは、Grainの特徴的な機能を確認するためのサンプルWebアプリケーションです。
　Grainの機能拡張に伴ってこのサンプルも拡充して行く予定です。

　------------------------------------------------------------------------------
　ビルド〜動作確認まで
　------------------------------------------------------------------------------

　0.動作環境

　　本サンプルの動作にはサーブレットコンテナが必要です。動作確認は、Jakarta
　　Tomcat 5.0.28 で行っています。
　　また、携帯電話向けの XForms ブラウザである、Grain Sprout の動作には、
　　Doja3.5プロファイル以降に準拠した携帯端末が必要です。
    ビルドにはMavenがインストールされている必要があります。まだインストール
    されていない場合は下記アドレスより取得しインストールして下さい。

    http://maven.apache.org/


　1.sproutのJAR及びJAMファイルの用意
    携帯へダウンロードさせるgrain-sproutのsprout.jamファイル及び、sprout.jar
    ファイルを src/webapp/app以下に配置して下さい。sprout.jamファイルの
    PackageURL及び、AppSize等、またindex.htmlのObjectタグのdataのURLについては
    適宜設定して下さい。
    (sproutのjam及びjarファイルは、GrainSprout-Dojaパッケージから入手できます。）

    その他に必要なライブラリはMavenにより取得されます。
  
  
  2.Mavenでのビルド
    Mavenはバージョン1.02において動作確認をしています。適切なコンソールを開き
    project.xmlが配置されているディレクトリに移動し、Mavenを実行します。

    必要なゴールは、以下の通りです。

    maven war:war
        コンパイルを実行し、targetディレクトリにwarファイルを作成します。

  　maven tomcat:deploy
        tomcat-deployer-pluginによりTomcatへwarファイルをデプロイします。
        project.propertiesへ以下の項目を設定して下さい。
        # Tomcatの上がってサーバのURL(default:http://localhost)
        maven.tomcat.url=
        # Tomcatのmanager権限を有するユーザ(default:)
        maven.tomcat.user=
        # 上記ユーザのパスワード(default:)
        maven.tomcat.password=
        # デプロイするコンテキストパス(default:${pom.artifactId})
        maven.tomcat.deploy.path=
        # 既にデプロイ済みの場合の上書き設定(default:true)
        maven.tomcat.deploy.update=
        # デプロイ対象のwarファイルのパス(default:${maven.build.dir}/${pom.artifactId}.war)
        
    その他tomcat-deployer-pluginでは、catalina-ant.jarがサポートしている
    tomcat:start,tomcat:stop,tomcat:reload,tomcat:listといったゴールを
    サポートしています。
　　

  4.Webアプリケーションの配備
  
  　Dojaのエミュレーターから利用する場合は、インターネットに公開されていない
  　サーバでも動作確認できますが、実機から確認したい場合にはインターネットに公
  　開されたサーバが必要になります。
  
  　前項で作成された war ファイルをサーブレットコンテナに手作業で配備しても
  　構いませんし、deployゴールで配備しても構いません。
  
  
  5.携帯電話への Grain Sprout のダウンロード
　
　　携帯電話のWebブラウザから、index.html にアクセスし、「アプリ起動」リンクを
　　ポイントして下さい。いくつかの確認ダイアログに答えると、アプリをインストー
　　ルすることができます。


　6.Grain Sprout から Web アプリケーションのアクセス

　　Grain Sprout を起動すると、最初はフォームの読み込みに失敗します。デフォルト
　　フォームの URL を設定するとこのエラーは出なくなります。
　　設定はソフトキーの [MENU] から、「基本設定…」を選択します。ラジオボタンは
　　下の「HTTP経由で接続」を選択し、続いて URL を入力します。

　　サンプルでは、addMember.xml がデフォルトフォームとなるように URL を設定し
　　て下さい。

　　OKボタンを選択し、戻ったメニュー画面で「デフォルトフォームを表示」を選択
　　すると、登録画面が表示されます。


　------------------------------------------------------------------------------
　サンプルアプリケーションについて
　------------------------------------------------------------------------------

　　フォームに個人情報を入力し、それを登録するというだけの単純なアプリケーション
　　です。しかし、この中でもいくつかの Grain Sprout の特徴を見ることができます。

　　【郵便番号から住所の検索】

　　　Webブラウザでは、郵便番号の送信と検索された住所データの受け取りだけでも
　　　画面全体を読み直す必要があります。Sprout では、XForms の Submission を
　　　使うことで、内部データだけを送受信して、フォーム全体を読む見直すという
　　　無駄を避ける事ができます。


　　【XMLデータの利用よるサーバ側の画面遷移処理の工数削減】
　　
　　　XMLデータの送受信がベースになるため、画面遷移を最小限にすることができる。
　　　これにより、Webアプリケーション開発で一番面倒な処理である画面遷移の工数
　　　を最小限にする事ができる。


　　【スタイルの指定による表現力】
　　　　
　　　現在は各要素の style 属性に指定するという形だが、表示を柔軟にカスタマイズ
　　　し、表現力の高い UI を作成することができる。


　　【イベントドリブンの高い拡張性】
　　　　
　　　各アクションはイベントドリブンであるため、ユーザにとって適切な表現にカスタ
　　　マイズしやすい形となっている。
　　　職業コードからのマスタのリアルタイムな参照などはその一例である。
　　

　------------------------------------------------------------------------------
　著作権
　------------------------------------------------------------------------------

	本サンプル に関する全ての著作権は、原著作者である株式会社ハウインター
	ナショナルが所有します。本サンプル は、GNU Lesser General Public License 
	(LGPL) に準ずるフリーソフトウェアです。個人的に使用する場合は、改変・複製に
	制限はありません。配布する場合は LGPL に従って下さい。


　------------------------------------------------------------------------------
　無保証
　------------------------------------------------------------------------------

　　本サンプルは無保証です。本サンプルおよび Grain 関連プロダクトを使って生じた
　　いかなる損害に対しても、原著作者は一切責任を負いません。詳しくは LGPL の各
　　条項を参照して下さい。


　最終更新日：2005/08/26
　更新者：Go Takahshi